Object.defineProperty(exports, "__esModule", { value: true });
const protractor_1 = require("protractor");
var LocateVulnerability;
(function (LocateVulnerability) {
    LocateVulnerability.codeMirrorPane = protractor_1.element(protractor_1.by.className('CodeMirror-code')), LocateVulnerability.sourceTreeItem = '.sourceTreeItem', LocateVulnerability.nextButton = protractor_1.element(protractor_1.by.buttonText('Next')), LocateVulnerability.continueButton = protractor_1.element(protractor_1.by.buttonText('Continue')), LocateVulnerability.line53 = protractor_1.element.all(protractor_1.by.id('codehunk-5c9a46c804d5c31e2e134650')).first();
    async function clickVulnerabilityByLineNumber(lineNumber) {
        //TODO replace with better locator
        await protractor_1.browser.wait(protractor_1.ExpectedConditions.presenceOf(LocateVulnerability.line53), 20000, 'Line not found');
        await protractor_1.browser.executeScript('arguments[0].scrollIntoView()', LocateVulnerability.line53.getWebElement());
        await LocateVulnerability.line53.click();
    }
    LocateVulnerability.clickVulnerabilityByLineNumber = clickVulnerabilityByLineNumber;
    async function clickSourceTreeItem(item) {
        await protractor_1.browser.wait(protractor_1.ExpectedConditions.elementToBeClickable(protractor_1.element(protractor_1.by.cssContainingText(LocateVulnerability.sourceTreeItem, item))), 10000, 'File not found');
        //TODO click takes place before screen is fully rendered so sometimes this method doesn't work ;-(
        await protractor_1.browser.sleep(1000);
        await protractor_1.element(protractor_1.by.cssContainingText(LocateVulnerability.sourceTreeItem, item)).click();
    }
    LocateVulnerability.clickSourceTreeItem = clickSourceTreeItem;
    async function clickNextButton() {
        await protractor_1.browser.wait(protractor_1.ExpectedConditions.elementToBeClickable(LocateVulnerability.nextButton), 10000, 'Next button not clickable');
        await LocateVulnerability.nextButton.click();
    }
    LocateVulnerability.clickNextButton = clickNextButton;
})(LocateVulnerability = exports.LocateVulnerability || (exports.LocateVulnerability = {}));
